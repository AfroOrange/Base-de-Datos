USE bdd_prestamos3;

ALTER TABLE provincias add numeroHabitantes INT NULL;

EXEC sp_rename 'provincias.numeroHabitantes', 'numHabitantes', 'COLUMN';

ALTER TABLE provincias
ADD CONSTRAINT CK_numHabitantes CHECK (numHabitantes > 100);

ALTER TABLE provincias
ADD CONSTRAINT DF_numHabitantes DEFAULT '101' for numHabitantes;

ALTER TABLE provincias
DROP CONSTRAINT DF_numHabitantes;

ALTER TABLE provincias
DROP CONSTRAINT CK_numHabitantes;

ALTER TABLE provincias
DROP COLUMN numHabitantes;

ALTER TABLE provincias add pais CHAR(5)

CREATE TABLE paises (
	codpais CHAR(5),
	nomPais VARCHAR(40) NOT NULL
);

ALTER TABLE paises 
ALTER COLUMN codpais CHAR(5) NOT NULL

ALTER TABLE paises
ADD CONSTRAINT PK_paises PRIMARY KEY (codpais)

ALTER TABLE paises
ADD CONSTRAINT UK_paises UNIQUE (nomPais)

ALTER TABLE provincias
ADD CONSTRAINT FK_pais FOREIGN KEY (pais) REFERENCES paises(codpais)
